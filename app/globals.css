@import "tailwindcss";
@import "tw-animate-css";
@plugin "@tailwindcss/typography";

@custom-variant dark (&:is(.dark *));

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-sans);
  --font-mono: var(--font-mono);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);

  /* Animations */
  --animate-fade-in: fadeIn 0.5s ease-out forwards;
  --animate-bounce: bounce 0.6s ease infinite;
  --animate-pulse: pulse 1s ease infinite;
  --animate-shimmer: shimmer 2s infinite;
  --animate-slide-in-right: slideInRight 0.3s ease-out forwards;
  --animate-slide-out-right: slideOutRight 0.3s ease-in forwards;
  --animate-skeleton: skeletonShimmer 1.5s infinite;
  --animate-border-rotate: borderRotate 3s linear infinite;
  --animate-gradient-shift: gradientShift 3s ease infinite;

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes bounce {

    0%,
    100% {
      transform: translateY(0);
    }

    50% {
      transform: translateY(-4px);
    }
  }

  @keyframes pulse {

    0%,
    100% {
      transform: scale(1);
    }

    50% {
      transform: scale(1.1);
    }
  }

  @keyframes shimmer {
    0% {
      background-position: -200% 0;
    }

    100% {
      background-position: 200% 0;
    }
  }

  @keyframes slideInRight {
    from {
      transform: translateX(100%);
      opacity: 0;
    }

    to {
      transform: translateX(0);
      opacity: 1;
    }
  }

  @keyframes slideOutRight {
    from {
      transform: translateX(0);
      opacity: 1;
    }

    to {
      transform: translateX(100%);
      opacity: 0;
    }
  }

  @keyframes skeletonShimmer {
    0% {
      background-position: -200% 0;
    }

    100% {
      background-position: 200% 0;
    }
  }

  @keyframes borderRotate {
    0% {
      --angle: 0deg;
    }

    100% {
      --angle: 360deg;
    }
  }

  @keyframes gradientShift {

    0%,
    100% {
      background-position: 0% 50%;
    }

    50% {
      background-position: 100% 50%;
    }
  }
}

:root {
  --radius: 0.5rem;
  /* Light mode - Modern Light Theme Optimized */
  --background: #ffffff;
  /* Pure white for cleaner look */
  --foreground: #0f172a;
  /* Slate-900 for sharp text */

  --card: #ffffff;
  --card-foreground: #0f172a;

  --popover: #ffffff;
  --popover-foreground: #0f172a;

  --primary: #4f46e5;
  /* Indigo-600 - Slightly darker for better white bg contrast */
  --primary-foreground: #ffffff;

  --secondary: #f1f5f9;
  /* Slate-100 */
  --secondary-foreground: #0f172a;

  --muted: #f1f5f9;
  /* Slate-100 */
  --muted-foreground: #334155;
  /* Slate-700 - Improved contrast for WCAG AAA */

  --accent: #f8fafc;
  /* Slate-50 */
  --accent-foreground: #0f172a;

  --destructive: #ef4444;
  --destructive-foreground: #ffffff;

  --border: #e2e8f0;
  /* Slate-200 - More visible border */
  --input: #e2e8f0;
  --ring: #6366f1;
}

.dark {
  /* Linear Dark Theme */
  --background: #09090b;
  /* Zinc-950 */
  --foreground: #fafafa;

  --card: rgba(24, 24, 27, 0.5);
  /* Zinc-900 with opacity for glass */
  --card-foreground: #fafafa;

  --popover: #09090b;
  --popover-foreground: #fafafa;

  --primary: #6366f1;
  /* Indigo-500 start */
  --primary-foreground: #fafafa;

  --secondary: #27272a;
  /* Zinc-800 */
  --secondary-foreground: #fafafa;

  --muted: #27272a;
  --muted-foreground: #d4d4d8;
  /* Zinc-300 - Improved contrast for WCAG AAA */

  --accent: #27272a;
  --accent-foreground: #fafafa;

  --destructive: #7f1d1d;
  --destructive-foreground: #fafafa;

  --border: rgba(255, 255, 255, 0.1);
  --input: rgba(255, 255, 255, 0.1);
  --ring: rgba(99, 102, 241, 0.5);
}

@layer base {
  html {
    scrollbar-gutter: stable;
  }

  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
  }

  /* Enhanced focus indicator for accessibility */
  *:focus-visible {
    @apply outline-2 outline-offset-2 outline-primary;
  }

  button:focus-visible,
  a:focus-visible,
  input:focus-visible,
  textarea:focus-visible,
  select:focus-visible {
    @apply outline-none ring-2 ring-offset-2 ring-primary ring-offset-background transition-shadow duration-200;
  }
}

@utility no-scrollbar {

  /* Chrome, Safari and Opera */
  &::-webkit-scrollbar {
    display: none;
  }

  /* IE and Edge */
  -ms-overflow-style: none;
  /* Firefox */
  scrollbar-width: none;
}

@utility text-balance {
  text-wrap: balance;
}

@utility mask-image-fade {
  mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);
}

/* ========================================
   MICRO-INTERACTIONS
   ======================================== */

/* Smooth theme transition */
* {
  transition-property: background-color, border-color, color, fill, stroke;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 0ms;
}

.theme-transition * {
  transition-duration: 300ms;
}

/* Button Hover Effects */
.btn-hover-lift {
  @apply transition-all duration-300 ease-out;
}

.btn-hover-lift:hover {
  @apply -translate-y-0.5 shadow-lg;
}

.btn-hover-lift:active {
  @apply translate-y-0 shadow-md;
}

/* Magnetic Button Base */
.magnetic-btn {
  @apply transition-transform duration-200 ease-out;
}

/* Card Hover Effects */
.card-hover {
  @apply transition-all duration-300 ease-out;
}

.card-hover:hover {
  @apply -translate-y-1 shadow-xl;
}

.card-hover-lift {
  @apply transition-all duration-300 ease-out border-border/50;
}

.card-hover-lift:hover {
  @apply -translate-y-1.5 shadow-2xl border-indigo-500/30;
}

.card-hover-glow {
  @apply transition-all duration-300 ease-out;
}

.card-hover-glow:hover {
  @apply shadow-lg shadow-indigo-500/10 border-indigo-500/20;
}

/* Link Hover Effects */
.link-hover {
  @apply relative transition-colors duration-200;
}

.link-hover::after {
  content: '';
  @apply absolute bottom-0 left-0 w-0 h-px bg-current transition-all duration-300;
}

.link-hover:hover::after {
  @apply w-full;
}

/* Scale on Hover */
.scale-hover {
  @apply transition-transform duration-200 ease-out;
}

.scale-hover:hover {
  @apply scale-105;
}

.scale-hover-sm {
  @apply transition-transform duration-200 ease-out;
}

.scale-hover-sm:hover {
  @apply scale-[1.02];
}

/* Icon Animations */
.icon-spin {
  @apply transition-transform duration-500;
}

.icon-spin:hover {
  @apply rotate-180;
}

.icon-bounce {
  @apply transition-transform duration-300;
}

.icon-bounce:hover {
  @apply animate-bounce;
}

.icon-pulse {
  @apply transition-transform duration-200;
}

.icon-pulse:hover {
  @apply animate-pulse;
}

/* Page Transition */
.page-transition-enter {
  @apply opacity-0 translate-y-4;
}

.page-transition-enter-active {
  @apply opacity-100 translate-y-0 transition-all duration-500 ease-out;
}

.page-transition-exit {
  @apply opacity-100 translate-y-0;
}

.page-transition-exit-active {
  @apply opacity-0 translate-y-4 transition-all duration-300 ease-in;
}

/* Fade In Animation */
.fade-in {
  @apply animate-fade-in;
}

/* Stagger Children */
.stagger-children>* {
  @apply opacity-0 animate-fade-in;
}

.stagger-children>*:nth-child(1) {
  animation-delay: 0.1s;
}

.stagger-children>*:nth-child(2) {
  animation-delay: 0.2s;
}

.stagger-children>*:nth-child(3) {
  animation-delay: 0.3s;
}

.stagger-children>*:nth-child(4) {
  animation-delay: 0.4s;
}

.stagger-children>*:nth-child(5) {
  animation-delay: 0.5s;
}

.stagger-children>*:nth-child(6) {
  animation-delay: 0.6s;
}

/* Focus Animations */
.focus-ring {
  @apply transition-shadow duration-200;
}

.focus-ring:focus {
  @apply ring-2 ring-primary ring-offset-2 ring-offset-background;
}

/* Glow Effects */
.glow-hover {
  @apply transition-all duration-300;
}

.glow-hover:hover {
  @apply shadow-lg;
  box-shadow: 0 0 30px rgba(99, 102, 241, 0.3);
}

.glow-text {
  @apply transition-all duration-300;
}

.glow-text:hover {
  text-shadow: 0 0 20px rgba(99, 102, 241, 0.5);
}

/* Ripple Effect Base */
.ripple {
  @apply relative overflow-hidden;
}

.ripple::after {
  content: '';
  @apply absolute inset-0 bg-white/30 rounded-full scale-0 opacity-0;
  transition: transform 0.5s, opacity 0.5s;
}

.ripple:active::after {
  @apply scale-150 opacity-100;
  transition: 0s;
}

/* Loading Shimmer */
.shimmer {
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
  background-size: 200% 100%;
  @apply animate-shimmer;
}

/* Dark Mode Transition */
.dark * {
  transition-property: background-color, border-color, color, fill, stroke;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
}

/* Smooth Scroll Behavior */
html {
  scroll-behavior: smooth;
}

/* Custom Scrollbar */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  @apply bg-transparent;
}

::-webkit-scrollbar-thumb {
  @apply bg-border rounded-full;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-muted-foreground/30;
}

/* Selection Animation */
::selection {
  @apply bg-indigo-500/30 text-indigo-200;
}

/* Toast/Notification Slide Animation */
.toast-enter {
  @apply animate-slide-in-right;
}

.toast-exit {
  @apply animate-slide-out-right;
}

/* Skeleton Shimmer */
.skeleton-shimmer {
  background: linear-gradient(90deg,
      hsl(var(--muted)) 25%,
      hsl(var(--muted-foreground) / 0.1) 50%,
      hsl(var(--muted)) 75%);
  background-size: 200% 100%;
  @apply animate-skeleton;
}

/* Image Hover Zoom */
.img-zoom {
  @apply overflow-hidden;
}

.img-zoom img {
  @apply transition-transform duration-500 ease-out;
}

.img-zoom:hover img {
  @apply scale-110;
}

/* Border Gradient Animation */
.border-gradient {
  --angle: 0deg;
  border: 2px solid;
  border-image: linear-gradient(var(--angle), #6366f1, #a855f7, #ec4899) 1;
  @apply animate-border-rotate;
}

/* Text Gradient Animation */
.text-gradient-animate {
  background: linear-gradient(90deg, #6366f1, #a855f7, #ec4899, #6366f1);
  background-size: 300% 100%;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  @apply animate-gradient-shift;
}